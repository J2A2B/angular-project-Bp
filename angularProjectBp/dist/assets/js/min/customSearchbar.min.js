myApp.directive("customSearchbar",["$http","$routeParams","ApiFactory",function(e,t,o){return{restrict:"E",scope:{suggestions:"=",clicked:"=",model:"=",home:"@?"},link:function(t,n,c){t.current=0,t.selected=!1,t.buttonSearchClicked,console.log(t.buttonSearchClicked),t.isCurrent=function(e){return e===t.current},t.setCurrent=function(e){t.current=e},t.onSelect=function(e){t.model=e,t.current=0,t.selected=!0},e.get(o.api+"search?q="+t.model+"&limit=10").then(function(e){t.activity=e.data.result},function(e){console.log("Unable to retrieve data from the API :/")}),t.error=function(){console.log(t.buttonSearchClicked),0==t.activity.length?(console.log(t.activity.length),t.buttonSearchClicked=!0):window.location.href="#/search-result/{{model}}"},t.typeahead=function(){e.get(o.api+"search/complete?q="+t.model+"&limit=5").then(function(e){t.suggestions=e.data.result},function(e){console.log("Unable to retrieve data from the API :/")})}},templateUrl:"assets/templates/searchbar.html"}}]);